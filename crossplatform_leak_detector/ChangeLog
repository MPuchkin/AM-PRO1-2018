2017-04-17  Wu Yongwei  <wuyongwei@gmail.com>

	* misc/release.sh: Accommodate recent changes and generate both the
	Unix and Windows packages.
	(VER): Increase to 1.1.
	* misc/release.bat: Remove.

2017-04-10  Wu Yongwei  <wuyongwei@gmail.com>

	* misc/doxit.sh: Eliminate an old workaround on new Doxygen
	versions.

2017-04-10  Wu Yongwei  <wuyongwei@gmail.com>

	* misc/doxit.sh: Solve a problem with HTML output of `operator->*';
	update comments.

2017-04-09  Wu Yongwei  <wuyongwei@gmail.com>

	* LICENCE: New file.

2017-04-09  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/Doxyfile (DOT_IMAGE_FORMAT): Change to `svg'.

2017-04-09  Wu Yongwei  <wuyongwei@gmail.com>

	Simplify code with passing by value.
	* nvwa/tree.h (push_back(tree_ptr&&)): Change to
	push_back(tree_ptr).
	(push_back(const tree_ptr&)): Remove.

2017-04-03  Wu Yongwei  <wuyongwei@gmail.com>

	Update C++11 feature detection macros for MSVC.
	* nvwa/c++11.h (HAVE_CXX11_EXPLICIT_CONVERSION): Define to 1 if
	Visual C++ 2015 or later is detected.
	(HAVE_CXX11_NOEXCEPT): Ditto.
	(HAVE_CXX11_THREAD_LOCAL): Ditto.
	(HAVE_CXX11_UNICODE_LITERAL): Ditto.
	(HAVE_CXX11_GENERALIZED_INITIALIZER): Define to 1 if Visual C++ 2013
	or later is detected.

2017-03-30  Wu Yongwei  <wuyongwei@gmail.com>

	* test/test_tree (test_tree<>): Add test for set_children.

2017-03-30  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/tree.h (push_back(tree_ptr&&)): Correct the wrong return
	type.
	(push_back(const tree_ptr&)): New function (enabled only when the
	storage policy is shared).
	* test/test_tree (tree_test): Add test for push_back.

2017-03-29  Wu Yongwei  <wuyongwei@gmail.com>

	* misc/Doxyfile (PROJECT_NUMBER): Increase to 1.1.
	(INPUT): Add new files recently added.

2017-03-29  Wu Yongwei  <wuyongwei@gmail.com>

	* doc/README: Move to README.
	* README: Move from doc/README.

2017-03-29  Wu Yongwei  <wuyongwei@gmail.com>

	* doc/README: Add information about tree.h.

2017-03-29  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/tree.h (NVWA_TREE_DEFAULT_STORAGE_POLICY): Change to
	storage_policy::shared.

2017-03-29  Wu Yongwei  <wuyongwei@gmail.com>

	* test/test_tree.cpp (test_tree<>): Add test that an iterator can be
	copied and traversal can be done repeatedly.

2017-03-28  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/tree.h (tree<>::empty()): Remove.
	(tree<>::has_child()): New function.
	(in_order_iteration<>::iterator::find_leftmost_child): Substitute
	`has_child' for `empty'.
	* test/test_tree.cpp (traverse_in_order_recursively<>): Ditto.

2017-03-28  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/tree.h (breadth_first_iteration<>::iterator::operator++()):
	Use null() to make the code intent clear.

2017-03-28  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/tree.h (breadth_first_iteration<>::iter_impl<>): Change to
	nested class iterator; add/change typedefs and fix a const
	specification problem to make iterator satisfy ForwardIterator.
	(depth_first_iteration<>::iter_impl<>): Ditto.
	(in_order_iteration<>::iter_impl<>): Ditto.

2017-03-26  Wu Yongwei  <wuyongwei@gmail.com>

	* doc/README: Improve some descriptions.

2017-03-23  Wu Yongwei  <wuyongwei@gmail.com>

	* doc/README: Update information about bool_array,
	istream_line_reader, file_line_reader, mmap_line_reader,
	type_traits.h, and functional.h.

2017-03-23  Wu Yongwei  <wuyongwei@gmail.com>

	Add typedefs to make the iterator types satisfy InputIterator, and
	remove noexcept where exceptions potentially can occur.
	* nvwa/file_line_reader.h: Add doc comments for strip_type.
	(file_line_reader::iterator::difference_type): New typedef.
	(file_line_reader::iterator::pointer_type): Ditto.
	(file_line_reader::iterator::iterator_category): Ditto.
	* nvwa/mmap_line_reader.h: Add doc comments for strip_type.
	(mmap_line_reader::iterator::difference_type): New typedef.
	(mmap_line_reader::iterator::pointer_type): Ditto.
	(mmap_line_reader::iterator::iterator_category): Ditto.
	(mmap_line_reader::iterator::iterator()): Remove _NOEXCEPT.
	(mmap_line_reader::iterator::iterator(mmap_line_reader*)): Ditto.
	(mmap_line_reader::end() const): Ditto.

2017-03-23  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/type_traits.h: Do not enable TR1 type_traits on Clang.

2017-03-23  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/istream_line_reader.h: New file.

2017-03-22  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/tree.h: New file.
	* test/test_tree.cpp: New file.

2017-03-22  Wu Yongwei  <wuyongwei@gmail.com>

	* test/Makefile (CFLAGS): Add `-Wfatal-errors'.

2017-01-10  Wu Yongwei  <wuyongwei@gmail.com>

	Make dynamic linking of Boost test libraries the default.
	* test/Makefile (CPPFLAGS): Add `-DBOOST_TEST_DYN_LINK'.

2016-11-09  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/mmap_line_reader.cpp: Include stdio.h (needed for snprintf).

2016-11-07  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/c++11.h (_NOEXCEPT): Make its definition compatible with both
	MSVC and Clang without warnings.

2016-11-07  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/mmap_line_reader.cpp (mmap_line_reader::read): Simplify
	slightly.

2016-11-06  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (optional<>::pointer_): Rename to _M_pointer.
	(optional<>::value_): Rename to _M_value.

2016-11-06  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h: Adjust the format slightly.

2016-11-06  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (make_curry(std::function<_Rs(_Targs...)>)):
	Move the function passed in.
	(make_curry(_Fn&&)): Perfect-forward the function object passed in.

2016-11-02  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/mmap_line_reader.h: New file.
	* nvwa/mmap_line_reader.cpp: New file.

2016-11-02  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/file_line_reader.h: Update an obsolete comment.

2016-11-02  Wu Yongwei  <wuyongwei@gmail.com>

	* test/test_functional.cpp (increase): Mark as constexpr.
	(sqr): Ditto.
	(sum): Ditto.
	(functional_test): Add tests for pair- and tuple-related operations. 

2016-11-01  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h: Add a comment.

2016-11-01  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/file_line_reader.h: Make the name of the macro guard
	consistent with other header files.

2016-11-01  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/file_line_reader.h: Change the naming style of private member
	variables for consistency.
	* nvwa/file_line_reader.cpp: Ditto.

2016-11-01  Wu Yongwei  <wuyongwei@gmail.com>

	* test/test_fixed_mem_pool.cpp: Ignore "-Wunused-private-field" only
	with clang.

2016-10-27  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h: Change the term `container' to `range' where
	appropriate; change the template argument `_Cont' to `_Rng'.
	(fmap(_Fn&&, _Cont&)): Use forwarding reference for the old _Cont&.
	(reduce(_Fn&&, _Cont&)): Ditto.
	(reduce(_Fn&&, _Cont&, _Rs&&)): Ditto.

2016-10-27  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (make_curry(_Fn&&)): New function template.

2016-10-23  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (detail::tuple_fmap_impl<>): New function
	template.
	(detail::tuple_reduce_impl<>): New function templates.
	(detail::tuple_apply_impl<>): New function template.
	(apply(_Fn&&, _Tuple&&)): Ditto.
	(fmap(_Fn&&, const std::pair<_T1, _T2>&)): Ditto.
	(fmap(_Fn&&, const std::tuple<_Targs...>&)): Ditto.
	(reduce(_Fn&&, const std::tuple<_Targs...>&, _Rs&&)): Ditto.
	(wrap_args_as_pair<>): Ditto.
	(wrap_args_as_tuple<>): Ditto.

2016-10-23  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (optional<>): Change the static assertion to be
	C++14 compatible.

2016-10-22  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/bool_array.cpp: Change `~0' at the left side of left shift to
	`~0U' to fix undefined behaviour (GCC warns about it).

2016-10-22  Wu Yongwei  <wuyongwei@gmail.com>

	Re-implement optional to fix bugs and be more standard-conformant.
	* nvwa/functional.h (detail::adl_swap<>): New function template
	declaration.
	(optional<>): Add static assertion about the template argument
	requirement.
	(optional<>::is_valid_): Remove member variable.
	(optional<>::pointer_): New member variable (alignment issue is
	solved for the templated object).
	(optional<>::optional()): Mark as noexcept.
	(optional<>::optional(optional&&)): Add noexcept-specification.
	(optional<>::optional(_Tp&&)): Ditto.
	(optional<>::~optional()): Mark as noexcept.
	(optional<>::operator=(const optional&)): Change the implementation
	as per C++17.
	(optional<>::operator=(optional&&)): Ditto.
	(optional<>::operator->()): Remove assertion and get rid of the
	cast, for which GCC complained about breaking strict-aliasing rules.
	(optional<>::operator->() const): Ditto.
	(optional<>::operator*() &): Ditto.
	(optional<>::operator*() const&): Ditto.
	(optional<>::operator*() &&): Ditto.
	(optional<>::has_value()): Mark as noexcept.
	(optional<>::value() &): Fix the GCC complaint about breaking
	strict-aliasing rules.
	(optional<>::value() const&): Ditto.
	(optional<>::value() &&): Ditto; do not mark the object is empty.
	(optional<>::reset()): Mark as noexcept;
	(optional<>::swap(optional&)): Change the noexcept-specification and
	replace the previous faulty implementation.
	(optional<>::destroy(void*)): Change to destroy(_Tp*) and modify the
	noexcept-specification.
	(has_value(const optional<_Tp>&)): Mark as noexcept.
	(has_value(const optional<_Tp>&, const optional<_Targs>&...)):
	Ditto.
	* test/test_functional.cpp (functional_test): Update accordingly and
	add more test cases.

2016-10-21  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (curry<>::make): Use object move (instead of
	reference passing) to improve performance.
	(lift_optional<>): Use perfect forwarding to optimize for
	performance and fix a GCC compilation error.

2016-10-20  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (fmap(_Fn&&, const _Cont&)): Change to
	fmap(_Fn&&, _Cont&) and remove the requirement that functions of
	type _Fn must take const reference types.
	(reduce(_Fn&&, const _Cont&)): Change to reduce(_Fn&&, _Cont&).
	(reduce(_Fn&&, const _Cont&, _Rs&&)): Change to reduce(_Fn&&,
	_Cont&, _Rs&&).

2016-10-18  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (fmap(_Fn&&, const _Cont&)): Fix the wrong return
	type introduced four days ago.

2016-10-15  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (lift_optional<>): Change the parameter type
	from _Fn to Fn&&.
	(compose): Remove the useless `inline' specifier.

2016-10-15  Wu Yongwei  <wuyongwei@gmail.com>

	Use generic lambda and perfect forwarding to simplify code.
	* nvwa/functional.h (lift_optional<>): Remove struct template.
	(lift_optional<>): New function template.
	(optional<>::reset): Change the noexcept-specification so that it
	compiles under GCC.
	(apply(_Fn&&, const optional<_Targs>&...)): Remove.
	(apply(_Fn&&, optional<_Targs>&&...)): Remove.
	(apply(_Fn&& f, _Opt&&...)): New function template.
	* test/test_functional.cpp (functional_test): Update according to
	the interface change.

2016-10-15  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (bad_optional_access): New class.
	(optional<>): Rewrite to implement most of the C++17 std::optional
	interface.
	(is_valid(const optional<_Tp>&, ...)): Rename to has_value.
	(lift_optional<>::make): Change as per the new interface.
	(lift_optional<>::make_move): Ditto.
	(apply(_Fn&&, const optional<_Targs>&...)): Ditto.
	(apply(_Fn&&, optional<_Targs>&&...)): Ditto.
	* test/test_functional.cpp (functional_test): Ditto.
	(operator<<(std::ostream&, const optional<T>&)): Ditto.

2016-10-15  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (fmap(_Fn&&, const optional<_Targs>&...)):
	Rename to apply.
	(fmap(_Fn&&, optional<_Targs>&&...)): Ditto.

2016-10-15  Wu Yongwei  <wuyongwei@gmail.com>

	Use forwarding references and perfect forwarding where appropriate.
	* nvwa/functional.h (fmap(_Fn, const optional<_Targs>&...)):
	Change to fmap(_Fn&&, const optional<_Targs>&...).
	(fmap(_Fn, optional<_Targs>&&...)): Change to fmap(_Fn&&,
	optional<_Targs>&&...).
	(fmap(_Fn, const _Cont&)): Change to fmap(_Fn&&, const _Cont&).
	(reduce(_Fn, const _Cont&)): Change to reduce(_Fn, const _Cont&).
	(reduce(_Fn, _Rs&&, _Iter, _Iter)): Change to reduce(_Fn&&, _Rs&&,
	_Iter, _Iter).
	(reduce(_Fn, const _Cont&, _Rs&&)): Change to reduce(_Fn&&, const
	_Cont&, _Rs&&).
	(pipeline(_Tp&&, _Fn, _Fargs...)): Change to pipeline(_Tp&&, _Fn&&,
	_Fargs&&...).

2016-10-14  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (detail::adl_end<>): New function template
	declaration.
	(fmap(_Fn, const _Cont&)): Make the _Cont type work on arrays.
	(reduce(_Fn, const _Cont&, _Rs&&)): Ditto.
	* test/test_functional.cpp (functional_test): Add test for array
	operations.

2016-10-14  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/debug_new.cpp (operator delete(void*, size_t)): Add for
	C++14.
	(operator delete[](void*, size_t)): Ditto.

2016-10-14  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (apply<>): Rename to pipeline.
	* test/test_functional.cpp (functional_test): Change the test
	accordingly.

2016-10-13  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h: Change `item' to `element' in comments. 

2016-10-13  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (detail::adl_begin<>): Restore its use.
	(reduce(_Fn, const _Cont&, _Rs&&)): Check that adl_begin works on
	_Cont to reduce potential conflicts with other overloads.

2016-10-13  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (make_optional<>): Mark as constexpr.
	(is_valid<>): Ditto.
	(fmap<>): Ditto.
	(reduce<>): Ditto.
	(apply<>): Ditto.

2016-10-13  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (detail::ref_wrapper<>): Rename to safe_wrapper.
	(curry<>::make): Change the parameter fn to f.
	(lift_optional<>::make): Ditto.
	(lift_optional<>::make_move): Ditto.
	(fmap<>): Ditto.
	(apply<>): Ditto.
	(compose<>): Ditto.
	(make_curry<>): Ditto.
	(reduce<>):: Change the parameter reducefn to f.
	(detail::adl_begin<>): Remove it and replace its use.

2016-10-12  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/file_line_reader.h
	(swap(file_line_reader::iterator&, file_line_reader::iterator&)):
	New function.

2016-10-12  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/function.h (detail::wrapper<>): Rename to ref_wrapper.

2016-10-10  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/file_line_reader.h: New file.
	* nvwa/file_line_reader.cpp: New file.

2016-10-10  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/fc_queue.h: Correct a wrong use of NVWA_CXX11_MODE.

2016-10-10  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/c++11.h (HAVE_CXX11_DELETED_FUNCTION): New macro.
	(_DELETED): New macro.

2016-10-06  Wu Yongwei  <wuyongwei@gmail.com>

	Use iterator_traits to make the reduce function more generic.
	* nvwa/functional.h (detail::adl_begin<>): New function template
	declaration.
	(detail::value_type<>): New alias template.
	(reduce(_Fn, const _Cont&)): Use detail::value_type to make the code
	more generic.

2016-09-29  Wu Yongwei  <wuyongwei@gmail.com>

	* doc/README: Clarify on lockless-ness.

2016-09-29  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (fmap(_Fn, const _Cont&)): Fix a type error.
	(reduce(_Fn, const _Cont&)): Ditto.
	(reduce(_Fn, _Rs&&, _Iter, _Iter)): Ditto.

2016-08-18  Wu Yongwei  <wuyongwei@gmail.com>

	* test/test_bool_array.cpp: Adjust the include file order.
	* test/test_fc_queue.cpp: Ditto.
	(BOOST_AUTO_TEST_CASE(fc_queue_test)): Change the code to eliminate
	compiler warnings.
	* test/test_fixed_mem_pool.cpp: Adjust the include file order and
	disable a GCC warning.

2016-08-03  Andrzej Auchimowicz  <aa.contributions@wp.eu>

	* nvwa/debug_new.cpp (alloc_mem): Fix an issue of insufficient memory
	allocation.

2016-05-22  Wu Yongwei  <wuyongwei@gmail.com>

	Fix compilation problems.
	* nvwa/fc_queue.h: Add `std::' before an invocation of swap.
	* test/test_fc_queue.cpp: Replace a remaining occurrence of
	BOOST_MESSAGE with BOOST_TEST_MESSAGE.

2016-05-14  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/function.h (optional<>): New class template.
	(make_optional<>): New function template.
	(is_valid<>): New function templates.
	(lift_optional<>): New struct template.
	(fmap<>): New function templates for optional<>.
	(fmap<>): More rules for instantiation for containers.
	* test/test_functional.cpp: More tests for optional<>.

2016-05-13  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h: Use enable_if_t, remove_reference_t, and
	decay_t from the standard library.
	(fmap<>): Spell out the return type explicitly to allow SFINAE;
	change the name of the first parameter.
	(compose): Mark as inline.

2015-10-31  Wu Yongwei  <wuyongwei@gmail.com>

	* misc/Doxyfile (INPUT): Re-enable functional.h.
	* misc/doxit.sh: Make it work with the latest Doxygen 1.8.10;
	hide functional.h when Doxygen 1.5 or 1.6 is detected.

2015-10-28  Wu Yongwei  <wuyongwei@gmail.com>

	Adjust for Doxygen output.
	* misc/Doxyfile: Update the configuration file to be based on
	Doxygen 1.5.2; Remove options obsolete in Doxygen 1.8; hide
	undocumented items but include documented private and static
	entities.
	(INPUT): Add _nvwa.h and c++11.h.
	* nvwa/_nvwa.h: Add documentation comment for namespace nvwa.
	* nvwa/debug_new.cpp: Add documentation comment for
	new_ptr_list_t::stacktrace; fix two wrong links; make
	_DEBUG_NEW_REMEMBER_STACK_TRACE documented.

2015-10-25  Wu Yongwei  <wuyongwei@gmail.com>

	* misc/Doxyfile (INPUT): Comment out functional.h (as it does not
	work well with the Doxygen version I use; the latest version has
	other issues).
	(PREDEFINED): Add _DEBUG_NEW_REMEMBER_STACK_TRACE=1 to force the
	inclusion of related code in Doxygen output.

2015-10-25  Andrzej Auchimowicz  <aa.contributions@wp.eu>

	* nvwa/debug_new.h (leak_whitelist_callback_t): New typedef.
	(leak_whitelist_callback): New declaration.
	* nvwa/debug_new.cpp (leak_whitelist_callback): New global variable.
	(is_leak_whitelisted): New function.
	(check_leaks): Report leaks after the whitelist check.

2015-10-25  Andrzej Auchimowicz  <aa.contributions@wp.eu>

	* nvwa/debug_new.h (stacktrace_print_callback_t): New typedef.
	(stacktrace_print_callback): New declaration.
	* nvwa/debug_new.cpp (stacktrace_print_callback): New global
	variable.
	(print_stacktrace): Call stacktrace_print_callback if it is not
	null; fall back to simple printing if it is.

2015-10-24  Andrzej Auchimowicz  <aa.contributions@wp.eu>

	* nvwa/debug_new.cpp (_DEBUG_NEW_REMEMBER_STACK_TRACE): New macro to
	optionally store stack backtrace information.
	(new_ptr_list_t::stacktrace): New member variable.
	(print_stacktrace): New function.
	(alloc_mem): Store stack trace when configured.
	(check_leaks): Print available stack trace when a leak is found.

2015-10-20  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (fmap<>): Make sure the return value contain
	values instead of references.

2015-09-20  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/debug_new.cpp: Use the new platform detection macros to
	simplify code.

2015-09-20  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/pctimer.h: Use NVWA_WINDOWS to detect platforms; replace the
	local macro _PCTIMER_NO_WIN32 with NVWA_PCTIMER_NO_WIN32.

2015-09-20  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/_nvwa.h (NVWA_WINDOWS): Fix the wrong condition of setting
	its value.

2015-09-20  Wu Yongwei  <wuyongwei@gmail.com>

	Fix a problem of using pctimer.h in plain C.
	* nvwa/_nvwa.h (NVWA_USE_NAMESPACE): Set the default value to 0 or 1
	depending on whether the code is used in C or C++.

2015-09-15  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/_nvwa.h (NVWA_WINDOWS): New macro.

2015-09-13  Wu Yongwei  <wuyongwei@gmail.com>

	Add platform detection macros.
	* nvwa/_nvwa.h (NVWA_APPLE): New macro.
	(NVWA_CYGWIN): New macro.
	(NVWA_LINUX): New macro.
	(NVWA_UNIX): New macro.
	(NVWA_WIN32): New macro.

2015-06-01  Wu Yongwei  <wuyongwei@gmail.com>

	Add boost tests for some files.
	* test/Makefile: New file.
	* test/test_bool_array.cpp: New file.
	* test/test_fc_queue.cpp: New file.
	* test/test_fixed_mem_pool.cpp: New file.
	* test/test_functional.cpp: New file.
	* test/test_suite.cpp: New file.

2015-06-01  Wu Yongwei  <wuyongwei@gmail.com>

	* misc/Doxyfile (INPUT): Add functional.h.

2015-06-01  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (map<>): Rename to fmap.

2015-05-19  Wu Yongwei  <wuyongwei@gmail.com>

	Add new macros that can force the choice of fast_mutex
	implementation.
	* nvwa/fast_mutex.h (NVWA_USE_CXX11_MUTEX): Define to 1 if C++11
	mutex is supported and no competing macros appear.
	(NVWA_WIN32THREADS): Define if _WIN32THREADS is defined and no
	competing macros appear.
	(NVWA_PTHREADS): Define if _PTHREADS is defined and no competing
	macros appear.
	(NVWA_NOTHREADS): Define if no competing macros appear.
	(fast_mutex): Choose the implementation based on the above four
	macros.

2015-03-01  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (detail::curry<>): Add credit for Julian Becker
	<becker.julian@gmail.com>.

2015-03-01  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (detail::wrapper<>::get): Specialize for the
	rvalue reference case so that a function with rvalue reference
	parameters can be curried (a temporary object is created each time a
	call happens).

2015-01-07  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (detail::wrapper<>::get): Simplify and remove
	the wrong use of std::move.

2015-01-03  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (compose<>): Allow the composed function to take
	multiple arguments.

2015-01-03  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (compose<>): Simplify its interface and
	implementation with C++14 generic lambdas.
	(detail::compose_ref<>): Remove.
	(detail::compose_impl<>): Remove.

2015-01-03  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (detail::curry<>::make): Use the C++14 init
	capture to reduce object copying.

2015-01-03  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (detail::wrapper<>::value): Substitute `decay_t'
	for `remove_reference_t' to optimize for move.
	(detail::wrapper<>::wrapper(const wrapper&)): Remove the copy-
	constructor that is no longer useful. 

2014-12-31  Wu Yongwei  <wuyongwei@gmail.com>

	Make make_curry safer to store the referenced objects unless the
	reference parameter is a non-const lvalue reference.
	* nvwa/functional.h (detail::wrapper<>): Change its semantics to
	treat object types, non-const lvalue reference types, and const
	lvalue reference and rvalue reference types differently.
	(curry<>::make): Keep the reference-ness of the return value of the
	innermost lambda.

2014-12-30  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (detail::compose_ref<>): New function template.
	(detail::compose_impl<>): New function template.
	(compose<>): Make the object-type instantiation work with both
	lvalues and rvalues.

2014-12-27  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (apply<>): Fix the wrong use of auto return type
	deduction.
	(compose<>): Ditto.

2014-12-22  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (detail::wrapper<>): New struct template.
	(detail::curry<>): Use wrapper to ensure reference types are
	correctly captured.

2014-12-22  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (map<>): Allow the function argument to have
	different input and output types.
	(reduce<>): Allow the function argument to have arguments of
	different types; use perfect forwarding to enable the use of
	reference types.

2014-12-21  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (curry<>::make): Make the function parameter
	const lvalue reference.
	(fix_simple<>): Add a new overload that takes a non-curried
	two-argument function.
	(fix_simple<>): Reverse the order of the two template parameters.
	(fix_curry<>): Ditto.

2014-12-21  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (detail::curry<>): New struct template.
	(make_curry<>): New function template.
	(fix_function_converter<>): Remove (obsoleted by make_curry).

2014-12-14  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (make_fix<>): Remove.
	(make_fix_simple<>): Ditto.
	(make_fix_curry<>): Ditto.
	(fix_simple<>): Change to a function template.
	(fix_curry<>): Ditto.

2014-12-14  Wu Yongwei  <wuyongwei@gmail.com>

	Implement fixed-point combinator.
	* nvwa/functional.h (detail::self_ref_func<>): New struct template.
	(fix_function_converter<>): New function object template.
	(fix_simple<>): Ditto.
	(fix_curry<>): Ditto.
	(make_fix<>): New function template.
	(make_fix_simple<>): Ditto.
	(make_fix_curry<>): Ditto.

2014-11-29  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/bool_array.cpp: Replace `NULL' with `_NULLPTR' in C++ code;
	change occurrences of `\c NULL' in doc comments to `null'.
	* nvwa/bool_array.h: Ditto.
	* nvwa/debug_new.cpp: Ditto.
	* nvwa/fc_queue.h: Ditto.
	* nvwa/fixed_mem_pool.h: Ditto.
	* nvwa/mem_pool_base.cpp: Ditto.
	* nvwa/static_mem_pool.h: Ditto.

2014-11-29  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h (func_pipeline): Remove.
	(compose<>): New function template.

2014-11-29  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h: Apply perfect forwarding.

2014-11-29  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h: Adjust code style for better consistency.
	(nvwa::funcimpl): Rename to detail.

2014-11-20  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h: Avoid the term `functor'.
	(functor_pipeline): Rename to func_pipeline.

2014-11-18  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/functional.h: New file.

2014-01-10  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/c++11.h (HAVE_CXX11_ATOMIC): Adjust condition according to
	test results from Clang and MinGW-builds on Windows.
	(HAVE_CXX11_FUTURE): Ditto.
	(HAVE_CXX11_MUTEX): Ditto.
	(HAVE_CXX11_THREAD): Ditto.

2013-12-31  Wu Yongwei  <wuyongwei@gmail.com>

	* misc/Doxyfile (PREDEFINED): Define `__inline' as `inline'.
	(PROJECT_NUMBER): Increase to 1.0.
	* misc/release.bat (VER): Ditto.
	* misc/release.sh (VER): Ditto.
	* nvwa/debug_new.cpp: Revise the documentation comment to ensure the
	backslash appear correctly in the output.

2013-10-07  Wu Yongwei  <wuyongwei@gmail.com>

	Follow N3279 and be more conservative about the use of noexcept.
	* nvwa/fc_queue.h (fc_queue<>::front()): Unmark as _NOEXCEPT.
	(fc_queue<>::front() const): Ditto.
	(fc_queue<>::back()): Ditto.
	(fc_queue<>::back() const): Ditto.
	(fc_queue<>::pop()): Ditto.
	(fc_queue<>::_M_destroy(void*, true_type)): Ditto.
	(fc_queue<>::_M_destroy(void*, false_type)): Ditto.
	(fc_queue<>::destroy(void*)): Change the noexcept-specification to a
	conditional (potentially for future use; not really useful now).

2013-10-06  Wu Yongwei  <wuyongwei@gmail.com>

	Mark _NOEXCEPT where appropriate; add a non-member swap function.
	* nvwa/bool_array.cpp (bool_array::create(size_type)): Mark as
	_NOEXCEPT.
	(bool_array::initialize(bool)): Ditto.
	(bool_array::count()): Ditto.
	(bool_array::flip()): Ditto.
	(bool_array::swap(bool_array&)): Ditto.
	* nvwa/bool_array.h (bool_array::bool_array()): Ditto.
	(bool_array::create(size_type)): Ditto.
	(bool_array::initialize(bool)): Ditto.
	(bool_array::size()): Ditto.
	(bool_array::count()): Ditto.
	(bool_array::flip()): Ditto.
	(bool_array::swap(bool_array&)): Ditto.
	(swap(bool_array&, bool_array&)): New function.

2013-10-06  Wu Yongwei  <wuyongwei@gmail.com>

	Fine-tune the Doxygen output.
	* misc/Doxyfile (PREDEFINED): Add definitions of _NOEXCEPT_, NVWA,
	NVWA_NAMESPACE_BEGIN, NVWA_NAMESPACE_END.
	(EXPAND_AS_DEFINED): Remove __PRIVATE, NVWA, NVWA_NAMESPACE_BEGIN,
	NVWA_NAMESPACE_END.

2013-10-06  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/debug_new.cpp (debug_new_recorder::_M_process(void*)): Output
	a message (instead of returning silently) when memory alignment
	cannot be compensated.

2013-10-06  Wu Yongwei  <wuyongwei@gmail.com>

	* misc/Doxyfile (EXTRACT_STATIC): Change to `NO'.
	(INPUT): Remove `static_assert.h'.
	(PREDEFINED): Add `_DEBUG' and `_DEBUG_NEW_REDEFINE_NEW=0'.

2013-10-06  Wu Yongwei  <wuyongwei@gmail.com>

	Avoid using `pointer' as a variable or parameter name, as it is
	defined as a type in many C++ containers (including fc_queue).
	* nvwa/bool_array.h: Change all local variables and parameters named
	`pointer' to `ptr'.
	* nvwa/cont_ptr_utils.h: Ditto.
	* nvwa/debug_new.h: Ditto.
	* nvwa/fixed_mem_pool.h: Ditto.
	* nvwa/mem_pool_base.cpp: Ditto.
	* nvwa/mem_pool_base.h: Ditto.
	* nvwa/static_mem_pool.h: Ditto.
	* nvwa/debug_new.cpp (check_tail): Change the local variable
	`pointer' to `tail_ptr'.
	(alloc_mem): Change the local variable `pointer' to `usr_ptr'.
	(free_pointer): Ditto.
	(check_leaks): Ditto.
	(check_mem_corruption): Ditto.
	(debug_new_recorder::_M_process(void*)): Ditto.
	(operator delete(void*)): Change the parameter `pointer' to `ptr'.
	(operator delete[](void*)): Ditto.
	(operator delete(void*, const char*, int)): Ditto.
	(operator delete[](void*, const char*, int)): Ditto.
	(operator delete(void*, const std::nothrow_t&)): Ditto.
	(operator delete[](void*, const std::nothrow_t&)): Ditto.

2013-10-05  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/fixed_mem_pool.h (MEM_POOL_ALIGNMENT): Set the default value
	to the size of a pointer.

2013-10-03  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/c++11.h (_NOEXCEPT_): New macro.
	* nvwa/fc_queue.h: Describe more details in documentation comment,
	especially the preconditions and postconditions; correct the include
	fileh for C++11.
	(fc_queue<>::fc_queue(size_type, const allocator_type&)): Add checks
	for the parameter max_size.
	(fc_queue<>::front()): Mark as noexcept.
	(fc_queue<>::front() const): Ditto.
	(fc_queue<>::back()): Ditto.
	(fc_queue<>::back() const): Ditto.
	(fc_queue<>::pop()): Ditto.
	(fc_queue<>::destroy(void*)): Ditto.
	(fc_queue<>::_M_destroy(void*, true_type)): Ditto.
	(fc_queue<>::_M_destroy(void*, false_type)): Ditto.
	(fc_queue<>::swap(fc_queue&)): Make better exception safety
	guarantee and write a noexcept-specification.
	(swap(fc_queue<>&, fc_queue<>&)): Write a noexcept-specification.

2013-10-02  Wu Yongwei  <wuyongwei@gmail.com>

	Simplify code by removing some unuseful member functions.
	* nvwa/fc_queue.h (fc_queue<>::fc_queue(const allocators&)): Remove.
	(fc_queue<>::initialize(size_type)): Remove.
	(fc_queue<>::uninitialized()): Remove.
	(fc_queue<>::_M_initialize()): Remove.

2013-10-02  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/fc_queue.h: Update copyright year.
	* nvwa/fixed_mem_pool.h: Ditto.

2013-10-02  Wu Yongwei  <wuyongwei@gmail.com>

	Reimplement fc_queue and make it more efficient.
	* nvwa/fc_queue.h (fc_queue<>): New implementation that keeps the
	old interface.
	* doc/README: Update about fc_queue.

2013-10-01  Wu Yongwei  <wuyongwei@gmail.com>

	Use allocators more correctly.
	* nvwa/fc_queue.h (fc_queue<>::fc_queue(const allocator_type&)): Add
	an optional allocator parameter to the constructor.
	(fc_queue<>::fc_queue(size_t, const allocator&)): Ditto.
	(fc_queue<>::~fc_queue()): Deallocate with the appropriate allocator.
	(fc_queue<>::uninitialized()): Mark with _NOEXCEPT.
	(fc_queue<>::empty()): Ditto.
	(fc_queue<>::full()): Ditto.
	(fc_queue<>::capacity()): Ditto.
	(fc_queue<>::size()): Ditto.
	(fc_queue<>::swap()): Swap also _M_node_alloc.
	(fc_queue<>::get_allocator): New function.
	(fc_queue<>::_Node_allocator): New typedef.
	(fc_queue<>::_M_node_alloc): New member variable.
	(fc_queue<>::_M_initialize(size_type)): Change visibility to private.
	(fc_queue<>::_M_destroy(void*, true_type)): Ditto.
	(fc_queue<>::_M_destroy(void*, false_type)): Ditto.
	(fc_queue<>::fc_queue(const fc_queue&)): Use the right-hand side's
	allocator.
	(swap(fc_queue&, fc_queue&)): New function.

2013-10-01  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/fc_queue.h (fc_queue): Use an allocator template parameter
	for memory management.

2013-09-17  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/c++11.h (HAVE_CXX11_THREAD): New macro.

2013-09-17  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/c++11.h: Update comments according to test results on MinGW
	GCC 4.8.

2013-09-07  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/static_assert.h (STATIC_ASSERT): New macro definition for the
	C++11 case.

2013-09-07  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/debug_new.cpp (MAGIC): Rename to DEBUG_NEW_MAGIC and mark as
	static.
	(ALIGNED_LIST_ITEM_SIZE): Mark as static.

2013-09-07  Wu Yongwei  <wuyongwei@gmail.com>

	* misc/doxit.sh: Update information about tools used to create the
	documentation.

2013-08-02  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/fast_mutex: Correct an error-detection check for MinGW GCC.
	(fast_mutex): Add a new class definition that uses the C++11 mutex.
	(NVWA_USE_CXX11_MUTEX): New macro.

2013-08-02  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/c++11.h (HAVE_CXX11_ATOMIC): Define to 0 if MinGW is
	detected.
	(HAVE_CXX11_FUTURE): Ditto.
	(HAVE_CXX11_MUTEX): New macro.
	(_NOEXCEPT): Adjust definition slightly for the MSVC case to avoid
	redefinition warnings.

2013-04-22  Wu Yongwei  <wuyongwei@gmail.com>

	* doc/README: Update about code organization, new files, and other
	minor changes.

2013-04-22  Wu Yongwei  <wuyongwei@gmail.com>

	* misc/Doxyfile (EXPAND_AS_DEFINED): Add NVWA.
	(PREDEFINED): Define _FINAL, _NOEXCEPT, _NULLPTR, and _OVERRIDE.

2013-04-22  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/type_traits.h: Detect `NVWA_NO_BOOST_TYPETRAITS' instead of
	`_FC_QUEUE_NO_BOOST_TYPETRAITS'.

2013-04-22  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/_nvwa.h (NVWA): New macro.
	* nvwa/debug_new.h (DEBUG_NEW): Simplify the definition.
	* nvwa/static_mem_pool.h: Update doc comments.  Correct the
	placement of `NVWA_NAMESPACE_BEGIN'.
	(PREPARE_STATIC_MEM_POOL): Remove obsolete macro.
	(PREPARE_STATIC_MEM_POOL_GROUPED): Ditto.
	(DECLARE_STATIC_MEM_POOL): Define correctly when namespace is used.
	(DECLARE_STATIC_MEM_POOL__NOTHROW): Ditto.
	(DECLARE_STATIC_MEM_POOL_GROUPED): Ditto.
	(DECLARE_STATIC_MEM_POOL_GROUPED__NOTHROW): Ditto.
	* nvwa/fixed_mem_pool.h: Update doc comments.
	(DECLARE_FIXED_MEM_POOL): Define correctly when namespace is used.
	(DECLARE_FIXED_MEM_POOL__NOTHROW): Ditto.
	(DECLARE_FIXED_MEM_POOL__THROW_NOCHECK): Ditto.

2013-04-22  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/c++11.h: Remove the macro definition of `noexcept' and
	`thread_local' to avoid possible confusions.
	(NVWA_CXX11_USE_WORKAROUND): Remove macro.
	(_NOEXCEPT): New macro.
	(_NULLPTR): New macro.
	(_THREAD_LOCAL): New macro.
	* nvwa/debug_new.h: Replace `noexcept' with `_NOEXCEPT'.
	* nvwa/debug_new.cpp: Ditto.
	* nvwa/fixed_mem_pool.h: Ditto.
	* nvwa/static_mem_pool.h: Ditto.

2013-04-20  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/debug_new.cpp: Properly detect Unix platforms (including
	Apple's OS X).

2013-03-26  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/c++11.h (HAVE_CXX11_ATOMIC): Add a note that <atomic> does
	not work out of the box on MinGW GCC.

2013-03-23  Wu Yongwei  <wuyongwei@gmail.com>

	Change the required GCC version number according to test on Linux.
	* nvwa/c++11.h (HAVE_CXX11_ATOMIC): Define it to 1 for GCC 4.5 and
	later.

2013-03-23  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/c++11.h (HAVE_CXX11_FUTURE): Define it to 1 for GCC 4.5 and
	later.

2013-03-05  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/debug_new.h: Replace `throw()' with `noexcept'.
	* nvwa/debug_new.cpp: Ditto.
	* nvwa/fixed_mem_pool.h: Ditto.
	* nvwa/static_mem_pool.h: Ditto.

2013-03-04  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/class_level_lock.h (HAVE_CLASS_TEMPLATE_PARTIAL_SPECIALIZATION): 
	Define the default value to 1.

2013-03-02  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/fc_queue.h: Use type_traits.h to abstract compiler/platform
	differences.

2013-03-02  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/c++11.h (__has_extension): New macro.
	* nvwa/type_traits.h: New file.

2013-03-01  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/c++11.h: New file.

2013-03-01  Wu Yongwei  <wuyongwei@gmail.com>

	Use namespace nvwa where appropriate (mostly via macros).
	* misc/Doxyfile (EXPAND_AS_DEFINED): Add NVWA_NAMESPACE_BEGIN and
	NVWA_NAMESPACE_END.
	* nvwa/_nvwa.h (NVWA_BEGIN_NAMESPACE): Rename to
	NVWA_NAMESPACE_BEGIN.
	(NVWA_END_NAMESPACE): Rename to NVWA_NAMESPACE_END.
	* nvwa/bool_array.cpp: Clean up header file includes and use
	NVWA_NAMESPACE_BEGIN/NVWA_NAMESPACE_END.
	* nvwa/bool_array.h: Ditto.
	* nvwa/class_level_lock.h: Ditto.
	* nvwa/cont_ptr_utils.h: Ditto.
	* nvwa/debug_new.cpp: Ditto.
	* nvwa/debug_new.h: Ditto.
	* nvwa/fast_mutex.h: Ditto.
	* nvwa/fc_queue.h: Ditto.
	* nvwa/fixed_mem_pool.h: Ditto.
	* nvwa/mem_pool_base.cpp: Ditto.
	* nvwa/mem_pool_base.h: Ditto.
	* nvwa/object_level_lock.h: Ditto.
	* nvwa/pctimer.h: Ditto.
	* nvwa/set_assign.h: Ditto.
	* nvwa/static_mem_pool.cpp: Ditto.
	* nvwa/static_mem_pool.h: Ditto.
	* nvwa/static_assert.h: Use namespace nvwa.
	* nvwa/debug_new.h (__debug_new_recorder): Change to
	nvwa::debug_new_recorder.
	(__debug_new_counter): Change to nvwa::debug_new_counter.

2013-02-21  Wu Yongwei  <wuyongwei@gmail.com>

	Remove workaround code for compilers not conforming to C++98.
	* nvwa/debug_new.h: Remove workaround declarations for MSVC 6.
	* nvwa/static_mem_pool.h (__PRIVATE): Remove macro.

2013-01-27  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/_nvwa.h: New file.

2013-01-27  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/bool_array.cpp: Make a minor format adjustment.
	* nvwa/bool_array.h: Ditto.
	* nvwa/class_level_lock.h: Ditto.
	* nvwa/cont_ptr_utils.h: Ditto.
	* nvwa/debug_new.cpp: Ditto.
	* nvwa/debug_new.h: Ditto.
	* nvwa/fast_mutex.h: Ditto.
	* nvwa/fc_queue.h: Ditto.
	* nvwa/fixed_mem_pool.h: Ditto.
	* nvwa/mem_pool_base.cpp: Ditto.
	* nvwa/mem_pool_base.h: Ditto.
	* nvwa/object_level_lock.h: Ditto.
	* nvwa/pctimer.h: Ditto.
	* nvwa/set_assign.h: Ditto.
	* nvwa/static_assert.h: Ditto.
	* nvwa/static_mem_pool.cpp: Ditto.
	* nvwa/static_mem_pool.h: Ditto.

2013-01-26  Wu Yongwei  <wuyongwei@gmail.com>

	Remove all `@version' and `@author' tags; add `@date' instead.
	`@version' is too cumbersome to maintain and not really useful.
	* nvwa/bool_array.cpp: Remove `@version' and `@author'; add `@date'.
	* nvwa/bool_array.h: Ditto.
	* nvwa/class_level_lock.h: Ditto.
	* nvwa/cont_ptr_utils.h: Ditto.
	* nvwa/debug_new.cpp: Ditto.
	* nvwa/debug_new.h: Ditto.
	* nvwa/fast_mutex.h: Ditto.
	* nvwa/fc_queue.h: Ditto.
	* nvwa/fixed_mem_pool.h: Ditto.
	* nvwa/mem_pool_base.cpp: Ditto.
	* nvwa/mem_pool_base.h: Ditto.
	* nvwa/object_level_lock.h: Ditto.
	* nvwa/pctimer.h: Ditto.
	* nvwa/set_assign.h: Ditto.
	* nvwa/static_assert.h: Ditto.
	* nvwa/static_mem_pool.cpp: Ditto.
	* nvwa/static_mem_pool.h: Ditto.

2013-01-19  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/debug_new.cpp (__debug_new_counter::~__debug_new_counter):
	Print the macro-related warning only for GCC 3, since this issue has
	not been seen since GCC 4.
	* doc/README: Remove the macro-related note for GCC 3 users.

2012-05-03  Wu Yongwei  <wuyongwei@gmail.com>

	* doc/README: Add notes about atos and -no_pie on Mac OS X.

2012-05-03  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/debug_new.cpp (print_position_from_addr): Use atos instead of
	addr2line on Apple platforms.

2012-01-14  Wu Yongwei  <wuyongwei@gmail.com>

	* misc/Doxyfile (SEARCHENGINE): Set to `YES' to enable search.
	(PROJECT_NUMBER): Increase to 0.9.
	* misc/release.bat (VER): Ditto.
	* misc/release.sh (VER): Ditto.

2011-07-15  Wu Yongwei  <wuyongwei@gmail.com>

	* doc/README: Mark fc_queue as obsolete.

2011-07-12  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/debug_new.cpp: Add more comments and remove the special
	detection for Borland C++ Compiler 5.5.1.

2011-07-12  Wu Yongwei  <wuyongwei@gmail.com>

	* doc/README: Update information about GCC and debug_new: some
	details about GCC 3.x are removed.

2011-07-11  Wu Yongwei  <wuyongwei@gmail.com>

	Fix the problem that a platform alignment of 8 (found in 32-bit code
	on Windows 7 x64 Edition) causes the detection of `new
	NonPODType[size]' to fail.
	* nvwa/debug_new.cpp (PLATFORM_MEM_ALIGNMENT): New constant.
	(alloc_mem): Check validity of_DEBUG_NEW_ALIGNMENT against
	PLATFORM_MEM_ALIGNMENT.
	(__debug_new_recorder::_M_process): Detect `new NonPODType[size]'
	using PLATFORM_MEM_ALIGNMENT.

2010-11-17  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/bool_array.h (bool_array::get_num_bytes_from_bits): New
	inline member function.
	* nvwa/bool_array.cpp (bool_array::bool_array(const void*, size_type)):
	Use get_num_bytes_from_bits.
	(bool_array::create(size_type)): Ditto.
	(bool_array::initialize(bool)): Ditto.
	(bool_array::count()): Ditto.
	(bool_array::flip()): Ditto.
	(bool_array::copy_to_bitmap(void*, size_type, size_type)): Ditto.

2010-11-13  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/bool_array.h: Adjust documentation comments.
	(bool_array::bool_array(const void*, size_type)): New constructor
	declaration.
	(bool_array::copy_to_bitmap(void*, size_type, size_type)): New
	member function declaration.
	* nvwa/bool_array.cpp: Adjust documentation comments.
	(bool_array::bool_array(const void*, size_type)): New constructor
	definition.
	(bool_array::copy_to_bitmap(void*, size_type, size_type)): New
	member function definition.

2010-10-19  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/bool_array.h: Adjust documentation comments.
	* nvwa/fixed_mem_pool.h: Ditto.

2010-10-16  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/bool_array.h: Clean up code and documentation comments.
	* nvwa/bool_array.cpp: Adjust documentation comments.

2010-10-16  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/bool_array.h: Rename some variables (external behaviour
	should not change).
	* nvwa/bool_array.cpp: Ditto.

2010-10-16  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/bool_array.h: Update documentation comments.
	(bool_array::bool_array(const bool_array&)): Add declaration of
	copy-constructor.
	(bool_array::operator=(const bool_array&)): Add declaration of
	assignment operator.
	(bool_array::count(size_type, size_type)): Add a default argument.
	* nvwa/bool_array.cpp: Update documentation comments and make minor
	code adjustments.
	(bool_array::bool_array(const bool_array&)): Add definition of
	copy-constructor.
	(bool_array::operator=(const bool_array&)): Add definition of
	assignment operator.
	(bool_array::count(size_type, size_type)): Accept the end argument
	to be npos.
	(bool_array::find_until(bool, size_type, size_type)): Ditto.

2010-10-16  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/bool_array.h (bool_array::merge_and): New member function
	declaration.
	(bool_array::merge_or): Ditto.
	(bool_array::get_8bits): Ditto.
	* nvwa/bool_array.cpp (bool_array::merge_and): New member function
	definition.
	(bool_array::merge_or): Ditto.
	(bool_array::get_8bits): Ditto.

2010-10-15  Wu Yongwei  <wuyongwei@gmail.com>

	* misc/Doxyfile (DETAILS_AT_TOP): Remove to make Doxygen 1.6 happy.
	(INPUT): Adjust the order of files to make Doxygen 1.6.2 happy.
	* misc/doxit.sh: Update notes about Doxygen versions.

2010-06-10  Wu Yongwei  <wuyongwei@gmail.com>

	* misc/doxit.sh: Add notes about Doxygen versions and remove
	obsolete lines.
	* misc/doxygen.css: Remove obsolete file.

2010-05-22  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/cont_ptr_utils.h: Remove `__' in certain names (missed this
	file last time).

2010-05-22  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/static_assert.h: Update copyright year.

2010-05-21  Wu Yongwei  <wuyongwei@gmail.com>

	Remove the beginning `__' in names of non-public member functions.
	* nvwa/fc_queue.h (fc_queue<>::__initialize(size_type)): Change to
	_M_initialize.
	(fc_queue<>::__destroy(void*, __true_type)): Change to _M_destroy.
	(fc_queue<>::__destroy(void*, __false_type)): Ditto.

2010-05-16  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/bool_array.h (bool_array::size_type): Improve the definition
	condition for 64-bit platforms.
	* nvwa/bool_array.cpp (bool_array::create(size_type)): Improve the
	detection of 64-bit platforms.

2010-05-16  Wu Yongwei  <wuyongwei@gmail.com>

	Remove the beginning `__' in names of local variables and function
	parameters in order to avoid collision with reserved words (already
	bitten twice recently).
	* nvwa/bool_array.cpp: Remove `__' in certain names.
	* nvwa/bool_array.h: Ditto.
	* nvwa/fast_mutex.h: Ditto.
	* nvwa/fc_queue.h: Ditto.
	* nvwa/fixed_mem_pool.h: Ditto.
	* nvwa/mem_pool_base.cpp: Ditto.
	* nvwa/mem_pool_base.h: Ditto.
	* nvwa/object_level_lock.h: Ditto.
	* nvwa/pctimer.h: Ditto.
	* nvwa/set_assign.h: Ditto.
	* nvwa/static_mem_pool.cpp: Ditto.
	* nvwa/static_mem_pool.h: Ditto.

2010-05-05  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/cont_ptr_utils.h (dereference_less::operator()): Use const
	reference arguments to ensure it can be used with non-copyable
	pointer-like types.
	(output_object::operator()): Ditto.
	(delete_object::operator()): Use pointer argument to ensure only
	real pointers can be passed to delete.

2010-02-15  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/debug_new.cpp (__debug_new_recorder::_M_process): Output the
	file/line information in verbose mode.

2010-02-15  Wu Yongwei  <wuyongwei@gmail.com>

	Fix the wrong warning about placement new when one uses `new
	NonPODType[size]' (thanks to Paul Butcher).
	* nvwa/debug_new.cpp (__debug_new_recorder::_M_process): Adjust the
	pointer by checking its alignment.

2010-02-12  Wu Yongwei  <wuyongwei@gmail.com>

	Eliminate weird errors caused by the name `__block' (reported by
	Paul Butcher).
	* nvwa/fixed_mem_pool (fixed_mem_pool<>::initialize): Replace
	`__block' with `__blk'.
	* nvwa/static_mem_pool.h (static_mem_pool<>::deallocate): Ditto.
	(static_mem_pool<>::~static_mem_pool): Ditto.
	(static_mem_pool<>::recycle): Ditto.

2010-02-12  Wu Yongwei  <wuyongwei@gmail.com>

	Eliminate warning messages in compilation (reported by Paul Butcher).
	* nvwa/debug_new.cpp (alloc_mem): Cast the size to unsigned long and
	output it as unsigned long.
	(free_pointer): Ditto.
	(check_leaks): Ditto.
	(check_mem_corruption): Ditto.

2010-01-08  Wu Yongwei  <wuyongwei@gmail.com>

	Drop the already non-existent support for Digital Mars compiler.
	* nvwa/debug_new.h (HAVE_PLACEMENT_DELETE): Remove its use.
	* nvwa/debug_new.cpp (HAVE_PLACEMENT_DELETE): Ditto.

2010-01-08  Wu Yongwei  <wuyongwei@gmail.com>

	* nvwa/class_level_lock.h: Add a comment about the use of `friend'.
	* nvwa/object_level_lock.h: Ditto.

2009-11-25  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.h (_DEBUG_NEW_TYPE): New macro to control the
	definition of DEBUG_NEW.
	(DEBUG_NEW): Revert to the pre-0.8 definition if _DEBUG_NEW_TYPE is
	not 1.

2009-10-12  Wu Yongwei  <adah@sh163.net>

	* nvwa/class_level_lock.h: Change a documentation comment to prevent
	unwanted automatic link generation.

2009-10-12  Wu Yongwei  <adah@sh163.net>

	* nvwa/bool_array.h (BYTE): Remove.
	(bool_array::byte): New typedef.
	(bool_array): Replace `BYTE' with `byte'.
	* nvwa/bool_array.cpp (bool_array::_S_bit_count): Ditto.
	(bool_array::_S_bit_ordinal): Ditto.
	(bool_array::create(size_type)): Ditto.
	(bool_array::count(size_type, size_type)): Ditto.
	(bool_array::find_until(bool, size_type, size_type)): Ditto.

2009-10-12  Wu Yongwei  <adah@sh163.net>

	* nvwa/bool_array.h: Improve the documentation comments.
	(bool_array::npos): Add a workaround definition to make it work
	under MSVC 6.
	* nvwa/bool_array.cpp: Improve the documentation comment.

2009-10-12  Wu Yongwei  <adah@sh163.net>

	* nvwa/bool_array.cpp (bool_array::count(size_type, size_type)):
	Allow the beginning position to be equal to the end position, but
	not greater than.
	(bool_array::find_until(bool, size_type, size_type)): Ditto.

2009-10-11  Wu Yongwei  <adah@sh163.net>

	* nvwa/bool_array.h (bool_array::size_type): Define to unsigned long
	long if 64-bit OS is detected.
	* nvwa/bool_array.cpp (bool_array::create(size_type)): Make static
	checks to ensure the type sizes are correct;
make it fail -
    safe.(bool_array::bool_array(size_type))
    : Un
    -
    inline to the.cpp file.

    2009 -
    10 - 11 Wu Yongwei<adah @sh163.net>

    Make operator[] work for a const bool_array; add swap().
	* nvwa/bool_array.h: Adjust documentation comments.
	(bool_array::_Element<>): Make it a template class.
	(bool_array::const_reference): New typedef.
	(bool_array::reference): New typedef.
	(bool_array::operator[](size_type)): Change to return a reference.
	(bool_array::operator[](size_type) const): New member function
	returning a const_reference.
	(bool_array::swap(bool_array&)): New member function declaration.
	* nvwa/bool_array.cpp: Adjust comments.
	(bool_array::swap(bool_array&)): New member function definition.

2009-10-11  Wu Yongwei  <adah@sh163.net>

	* nvwa/bool_array.h: Adjust documentation comments.
	(bool_array::find_until(bool, size_type, size_type)): Change the
	name of the second parameter to `__beg'.
	((bool_array::at(size_type)): Correct the English message in the
	exception thrown.
	(bool_array::reset(size_type)): Ditto.
	(bool_array::set(size_type)): Ditto.
	* nvwa/bool_array.cpp: Adjust documentation comments.
	(bool_array::count(size_type, size_type)): Correct the English
	message in the exception thrown.
	(bool_array::find_until(bool, size_type, size_type)): Change the
	name of the second parameter to `__beg'; add a range check.

2009-10-10  Wu Yongwei  <adah@sh163.net>

	* nvwa/bool_array.h (bool_array::size_type): New typedef.
	(bool_array::_Element::_Element(BYTE*, size_type)): Replace
	`unsigned long' with `size_type'.
	(bool_array::bool_array(size_type)): Ditto.
	(bool_array::create(size_type)): Ditto.
	(bool_array::operator[](size_type)): Ditto.
	(bool_array::at(size_type)): Ditto.
	(bool_array::reset(size_type)): Ditto.
	(bool_array::set(size_type)): Ditto.
	(bool_array::size()): Ditto.
	(bool_array::count()): Ditto.
	(bool_array::count(size_type, size_type)): Ditto.
	(bool_array::find(bool, size_type)): Ditto.
	(bool_array::find(bool, size_type, size_type)): Ditto.
	(bool_array::find_until(bool, size_type, size_type)): Ditto.
	(bool_array::npos): Ditto.
	(bool_array::_M_length): Ditto.
	* nvwa/bool_array.cpp (bool_array::create(size_type)): Ditto.
	(bool_array::count()): Ditto.
	(bool_array::count(size_type, size_type)): Ditto.
	(bool_array::find_until(bool, size_type, size_type)): Ditto.

2009-10-10  Wu Yongwei  <adah@sh163.net>

	* nvwa/bool_array.h (bool_array::find(bool, unsigned long)): New
	member function declaration and inline definition.
	(bool_array::find(bool, unsigned long, unsigned long)): Ditto.
	(bool_array::find_until(bool, unsigned long, unsigned long)): New
	member function declaration.
	(bool_array::npos): New constant.
	(bool_array::_S_bit_ordinal): New static member variable
	declaration.
	* nvwa/bool_array.cpp (bool_array::_S_bit_ordinal): New static
	member variable definition.
	(bool_array::find_until(bool, unsigned long, unsigned long)): New
	member function definition.

2009-03-06  Wu Yongwei  <adah@sh163.net>

	* nvwa/fc_queue.h (fc_queue<>::fc_queue()): Add more description in
	the documentation comment.
	(fc_queue<>::fc_queue(const fc_queue&)): Add copy-constructor.
	(fc_queue<>::operator=(const fc_queue&)): Add assignment operator.
	(fc_queue<>::swap(fc_queue&)): New function.
	(fc_queue<>::capacity()): New function.

2009-03-06  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.h: Remove the now out-of-date mention of placement
	new in documentation comment.

2009-03-01  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp: Add more documentation comments.
	(_DEBUG_NEW_FILENAME_LEN): Change the default value to 0 on Windows.

2009-02-21  Wu Yongwei  <adah@sh163.net>

	* nvwa/mem_pool_base.cpp: Add more documentation comments.
	* nvwa/mem_pool_base.h: Ditto.

2009-02-19  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (#pragma init_seg): Use the init_seg(compiler)
	pragma instead of init_seg(lib) to delay the automatic check_leaks
	call even later.
	(#pragma warning): Disable the warning for using the above pragma.
	(#pragma warning): Disable a warning on MSVC 8.0 or later for using
	strncpy.
	(ALIGN): New macro name to replace the function-like `align'.

2009-02-09  Wu Yongwei  <adah@sh163.net>

	* nvwa/fast_mutex.h (WIN32_LEAN_AND_MEAN): Define it before
	including <windows.h>, if it is not defined.

2009-02-05  Wu Yongwei  <adah@sh163.net>

	Avoid using `__value', which is reserved by newer versions of MSVC
	for Managed Extensions.
	* nvwa/bool_array.cpp: Change `__value' to `__val'.
	* nvwa/bool_array.h: Ditto.
	* nvwa/fc_queue.h: Ditto.  Also change `__pointer' to `__ptr' for
	symmetry.

2009-02-03  Wu Yongwei  <adah@sh163.net>

	* misc/Doxyfile (MAX_DOT_GRAPH_DEPTH): Remove obsolete option.

2009-02-03  Wu Yongwei  <adah@sh163.net>

	* nvwa/fc_queue.h: New file.
	* doc/README: Add description of fc_queue.h.
	* misc/Doxyfile (INPUT): Add fc_queue.h.

2009-02-03  Wu Yongwei  <adah@sh163.net>

	* nvwa/fixed_mem_pool.h: Adjust documentation comments.

2009-01-17  Wu Yongwei  <adah@sh163.net>

	* nvwa/fixed_mem_pool.h: Add more documentation comments.

2009-01-17  Wu Yongwei  <adah@sh163.net>

	* misc/doxit.sh: Add more comments regarding Doxygen PDF output.

2009-01-12  Wu Yongwei  <adah@sh163.net>

	* nvwa/fixed_mem_pool (MEM_POOL_ALIGN): Remove.
	(fixed_mem_pool<>::block_size): New struct to calculate the block
	size at compile time.
	(fixed_mem_pool<>::initialize): Replace the use of MEM_POOL_ALIGN
	with blocksize::value.

2009-01-12  Wu Yongwei  <adah@sh163.net>

	* nvwa/fixed_mem_pool (MEM_POOL_ALIGN): Change to a two-parameter
	definition.
	(fixed_mem_pool<>::alignment): New struct to allow the
	specialization of alignment.
	(fixed_mem_pool<>::initialize): Use the specializable const instead
	of a macro for memory alignment.

2009-01-11  Wu Yongwei  <adah@sh163.net>

	* nvwa/fixed_mem_pool (fixed_mem_pool<>::initialize): Fix the issue
	that pointers can be misaligned.

2009-01-10  Wu Yongwei  <adah@sh163.net>

	* nvwa/fixed_mem_pool (MEM_POOL_ALIGN): Split the definition to two
	lines to make Doxygen results more beautiful.

2009-01-10  Wu Yongwei  <adah@sh163.net>

	* nvwa/fixed_mem_pool (MEM_POOL_ALIGN): Change the definition to use
	potentially more efficient bit operations.
	(fixed_mem_pool<>::initialize): Allow the alignment to be smaller
	than the size of a pointer, but require it to be a power of two.

2009-01-10  Wu Yongwei  <adah@sh163.net>

	* nvwa/fixed_mem_pool (MEM_POOL_ALIGN): Make the macro parameter in
	header files consistent in case.

2009-01-09  Wu Yongwei  <adah@sh163.net>

	* nvwa/fixed_mem_pool.h (MEM_POOL_ALIGN): New macro (to replace
	fixed_mem_pool<>::_S_align).
	(fixed_mem_pool<>::_S_align): Remove.
	(fixed_mem_pool<>::initialize): Replace the inline function _S_align
	with the macro MEM_POOL_ALIGN to allow the use of STATIC_ASSERT and
	more compiler optimizations.

2009-01-07  Wu Yongwei  <adah@sh163.net>

	* nvwa/object_level_lock.h: Correct a typo in the documentation
	comment.

2008-12-30  Wu Yongwei  <adah@sh163.net>

	* misc/Doxyfile (PROJECT_NUMBER): Increase to 0.8.2.
	* misc/release.bat (VER): Ditto.
	* misc/release.sh (VER): Ditto.

2008-10-20  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (free_pointer): Fix the bug that the wrong
	caller address is output when a memory corruption occurs.

2008-09-11  Wu Yongwei  <adah@sh163.net>

	* doc/README: Change the right curly quote to the ASCII apostrophe
	to avoid encoding problems.

2008-09-10  Wu Yongwei  <adah@sh163.net>

	* misc/Doxyfile (PROJECT_NUMBER): Increase to 0.8.1.
	* misc/release.bat (VER): Ditto.
	* misc/release.sh (VER): Ditto.

2008-08-28  Wu Yongwei  <adah@sh163.net>

	* misc/release.bat: Mirror the cp command line change in release.sh
	to avoid potential compatibility issues and make them consistent.

2008-08-25  Wu Yongwei  <adah@sh163.net>

	* misc/release.sh: Remove the unnecessary cvs login; fix a minor
	compatibility issue that loses the directory structure in copying;
	remove OS control files (found under OS X) in doc/html.

2008-08-23  Wu Yongwei  <adah@sh163.net>

	* nvwa/bool_array.cpp: Update copyright information.
	* nvwa/bool_array.h: Ditto.
	* nvwa/class_level_lock.h: Ditto.
	* nvwa/cont_ptr_utils.h: Ditto.
	* nvwa/debug_new.cpp: Ditto.
	* nvwa/debug_new.h: Ditto.
	* nvwa/fast_mutex.h: Ditto.
	* nvwa/fixed_mem_pool.h: Ditto.
	* nvwa/mem_pool_base.cpp: Ditto.
	* nvwa/mem_pool_base.h: Ditto.
	* nvwa/object_level_lock.h: Ditto.
	* nvwa/pctimer.h: Ditto.
	* nvwa/set_assign.h: Ditto.
	* nvwa/static_assert.h: Ditto.
	* nvwa/static_mem_pool.cpp: Ditto.
	* nvwa/static_mem_pool.h: Ditto.

2008-08-23  Wu Yongwei  <adah@sh163.net>

	* doc/README: Update information about the 2007 changes in
	debug_new.

2008-08-20  Wu Yongwei  <adah@sh163.net>

	* misc/Doxyfile (USE_WINDOWS_ENCODING): Remove since it has become
	obsolete in newer Doxygen versions.
	(REFERENCED_BY_RELATION): Change to `NO' since the default value is
	causing side-effects in newer Doxygen versions.
	(REFERENCES_RELATION): Ditto.
	(MAX_DOT_GRAPH_WIDTH): Remove since it has become obsolete in newer
	Doxygen versions.
	(MAX_DOT_GRAPH_HEIGHT): Ditto.

2008-08-20  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (check_tail): Wrap in a _DEBUG_NEW_TAILCHECK
	conditional compilation block to avoid a compiler warning as well as
	unnecessary object code.

2008-08-20  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (free_pointer): Fix the use-after-free problem
	that can cause core dumps (thanks to rudi).

2008-06-19  Wu Yongwei  <adah@sh163.net>

	* misc/doxit.sh: Postprocess HTML files too to remove the space
	between -> and *; print more messages.

2008-06-18  Wu Yongwei  <adah@sh163.net>

	* misc/doxit.sh: Do not use `\+' in regexp to improve portability
	and POSIX compliance.

2008-06-16  Wu Yongwei  <adah@sh163.net>

	* misc/doxit.sh: Replace the rightarrow in LaTeX output to plain
	`->'; make sure the LaTeX PDF output size is A4.

2008-06-14  Wu Yongwei  <adah@sh163.net>

	* misc/doxit.sh: Do not use `\s' in sed to fix a sed compatibility
	problem.

2007-12-31  Wu Yongwei  <adah@sh163.net>

	* misc/release.bat: Enable auto-login; check out doc and nvwa
	together; copy the PDF file instead of the PS file to the release.
	* misc/release.sh: Copy the PDF file instead of the PS file to the
	release.

2007-12-31  Wu Yongwei  <adah@sh163.net>

	* misc/Doxyfile (PROJECT_NUMBER): Increase to 0.8.
	* misc/release.bat (VER): Ditto.
	* misc/release.sh (VER): Ditto.

2007-12-31  Wu Yongwei  <adah@sh163.net>

	Update documentation comments.
	* nvwa/debug_new.h: Adjust one documentation comment for
	consistency.
	* nvwa/debug_new.cpp (check_tail): Add the documentation comment.
	(alloc_mem): Ditto.

2007-12-30  Wu Yongwei  <adah@sh163.net>

	Change the HAS_* macros to HAVE_*.
	* nvwa/class_level_lock.h (HAS_CLASS_TEMPLATE_PARTIAL_SPECIALIZATION):
	Change to HAVE_CLASS_TEMPLATE_PARTIAL_SPECIALIZATION.
	* nvwa/debug_new.h (HAS_PLACEMENT_DELETE): Change to
	HAVE_PLACEMENT_DELETE.
	* nvwa/debug_new.cpp (HAS_PLACEMENT_DELETE): Ditto.

2007-12-24  Wu Yongwei  <adah@sh163.net>

	Add the capability to check past-end memory overwriting.
	* nvwa/debug_new.cpp (_DEBUG_NEW_TAILCHECK): New macro.
	(_DEBUG_NEW_TAILCHECK_CHAR): New macro.
	(check_tail): New static function.
	(alloc_mem): Fill the padding bytes at the end of memory block when
	_DEBUG_NEW_TAILCHECK is a positive number.
	(free_pointer): Check memory corruption and perform the error action
	if the past-end padding bytes are tampered with.
	(check_leaks): Check the past-end padding bytes if
	_DEBUG_NEW_TAILCHECK is a positive number.
	(check_mem_corruption): Ditto.

2007-12-24  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (check_leaks): Perform magic number check
	before outputting leak information; display leaks summary if
	new_verbose_flag is true or leaks exist.

2007-12-22  Wu Yongwei  <adah@sh163.net>

	Make the default behaviour of redefinitions of operator new
	conformant to the C++ standard.
	* nvwa/debug_new.cpp (_DEBUG_NEW_STD_OPER_NEW): New macro.
	(alloc_mem): Skip the old error action if _DEBUG_NEW_STD_OPER_NEW is
	not zero.
	(__debug_new_recorder::_M_process): Skip processing if the passed
	pointer is null.
	(operator new(size_t, const char*, int)): Throw std::bad_alloc when
	the memory allocation is not successful, if _DEBUG_NEW_STD_OPER_NEW
	is not zero.
	(operator new[](size_t, const char*, int)): Ditto.
	(operator new(size_t, const std::nothrow_t&)): Call alloc_mem
	directly instead of operator new(size_t, const char*, int).
	(operator new[](size_t, const std::nothrow_t&)): Call alloc_mem
	directly instead of operator new[](size_t, const char*, int).

2007-12-22  Wu Yongwei  <adah@sh163.net>

	Make the leakage report order the same way as allocation.
	* nvwa/debug_new.cpp (alloc_mem): Chain the newly allocated memory
	block at the end of the linked list instead of the beginning.

2007-12-15  Wu Yongwei  <adah@sh163.net>

	Refactor code to reduce code duplication.
	* nvwa/debug_new.cpp (alloc_mem): New static function to put the
	common logic of new and new[];
	(free_pointer): Change the semantics of the first parameter, and put
	more common logic of delete and delete[] into it.
	(operator new(size_t, const char*, int)): Reduce to a single call to
	alloc_mem.
	(operator new[](size_t, const char*, int)): Reduce to a single call
	to alloc_mem.
	(operator delete(void*)): Reduce to a single call to free_pointer.
	(operator delete[](void*)): Reduce to a single call to free_pointer.

2007-12-15  Wu Yongwei  <adah@sh163.net>

	Use one doubly-linked list to chain the allocated pointers instead
	of the hashed array of singly-linked lists.
	* nvwa/debug_new.cpp (_DEBUG_NEW_FILENAME_LEN): Change the default
	value to make the size of new_ptr_list_t still 64.
	(_DEBUG_NEW_HASHTABLESIZE): Remove.
	(_DEBUG_NEW_HASH): Remove.
	(new_ptr_list_t): Make it a doubly-linked list.
	(new_ptr_list): Make it of type new_ptr_list_t instead of a pointer
	array to new_ptr_list_t.
	(new_ptr_lock): Make it non-array.
	(search_pointer): Remove.
	(free_pointer): Modify to use the  doubly-linked list.
	(check_leaks): Ditto.
	(check_mem_corruption): New function.
	(operator new(size_t, const char*, int)): Modify to use the
	doubly-linked list.
	(operator delete(void*)): Ditto.
	* nvwa/debug_new.h (check_mem_corruption): New declaration.

2007-10-20  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_mem_pool.h (PREPARE_STATIC_MEM_POOL): Define to
	display a warning message.
	(PREPARE_STATIC_MEM_POOL_GROUPED): Ditto.

2007-10-17  Wu Yongwei  <adah@sh163.net>

	* misc/doxit.sh: Update to make it work with Doxygen 1.5.3, and
	document what is fixed between 1.5.1 and 1.5.3.

2007-10-16  Wu Yongwei  <adah@sh163.net>

	* nvwa/bool_array.cpp: Update copyright year and spelling.
	* nvwa/bool_array.h: Ditto.
	* nvwa/class_level_lock.h: Ditto.
	* nvwa/cont_ptr_utils.h: Ditto.
	* nvwa/debug_new.cpp: Ditto.
	* nvwa/debug_new.h: Ditto.
	* nvwa/fast_mutex.h: Ditto.
	* nvwa/fixed_mem_pool.h: Ditto.
	* nvwa/mem_pool_base.cpp: Ditto.
	* nvwa/mem_pool_base.h: Ditto.
	* nvwa/object_level_lock.h: Ditto.
	* nvwa/pctimer.h: Ditto.
	* nvwa/set_assign.h: Ditto.
	* nvwa/static_assert.h: Ditto.
	* nvwa/static_mem_pool.cpp: Ditto.
	* nvwa/static_mem_pool.h: Ditto.

2007-10-16  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.h (__debug_new_recorder): Modify a comment.
	Prohibit the copy constructor and the copy assignment operator to
	eliminate a warning.

2007-10-15  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (new_ptr_list_t): Split the member `line' into
	two bit-fields: `line' and `is_array'.
	(print_position): Remove the bit manipulation with `INT_MIN'.
	(free_pointer): Ditto.
	(__debug_new_recorder::_M_process): Ditto.
	(operator new(size_t, const char*, int)): Reset `is_array' to 0.
	(operator new[](size_t, const char*, int)): Remove the bit
	manipulation with `INT_MIN', and set `is_array' to 1.

2007-10-15  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (__debug_new_recorder::_M_process): Fix the bug
	that the highest bit of line for array mode are not correctly
	checked and preserved (reported and fixed by Max Kuzkin).

2007-10-08  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (_DEBUG_NEW_FILENAME_LEN): Change its default
	value to 48.
	(new_ptr_list_t): Add a new member magic.
	(MAGIC): New constant.
	(search_pointer): Detect heap corruption using `magic'.
	(free_pointer): Reset the `magic' field before releasing the memory.
	(check_leaks): Detect heap corruption using `magic'.
	(__debug_new_recorder::_M_process): Fix the error in calculating the
	pointer to new_ptr_list_t.
	Detect the wrong mixed use of placement new using `magic'.
	(operator new(size_t, const char*, int)): Set the `magic' field
	after allocating the memory.
	(operator delete(void*)): Detect invalid pointers using `magic'.
	(operator delete[](void*)): Detect invalid pointers using `magic'.

2007-10-07  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (aligned_list_item_size): Rename to
	ALIGNED_LIST_ITEM_SIZE.

2007-10-07  Wu Yongwei  <adah@sh163.net>

	Make the macro redefinition of new support new(std::nothrow)
	* nvwa/debug_new.h (DEBUG_NEW): Change the macro definition to use
	__debug_new_recorder.
	(__debug_new_recorder): New class.
	* nvwa/debug_new.cpp (__debug_new_counter::_M_process): New
	function.

2007-10-05  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (__debug_new_counter::_count): Rename to
	_S_count for consistency.
	* nvwa/debug_new.h (__debug_new_counter::_count): Ditto.
	(DEBUG_NEW): Update documentation comment about
	_DEBUG_NEW_REDEFINE_NEW.

2007-09-13  Wu Yongwei  <adah@sh163.net>

	* misc/doxit.sh: Update to generate PDF documents correctly in
	different flavours.

2007-09-12  Wu Yongwei  <adah@sh163.net>

	* nvwa/cont_ptr_utils.h: Emphasize the book name `Effective STL'.

2007-08-16  Wu Yongwei  <adah@sh163.net>

	* misc/Doxyfile (INPUT): Add the missing file `static_assert.h'.

2006-09-12  Wu Yongwei  <adah@sh163.net>

	* misc/Doxyfile (PROJECT_NUMBER): Increase to 0.7.
	* misc/release.bat (VER): Ditto.
	* misc/release.sh (VER): Ditto.
	* misc/release.bat (CVSROOT): Change `cvs.sourceforge.net' to
	`nvwa.cvs.sourceforge.net'.
	* misc/release.sh (CVSROOT): Ditto.

2006-09-12  Wu Yongwei  <adah@sh163.net>

	* doc/README: Adjust descriptions of macros to make it up-to-date as
	well as consistent.

2006-08-28  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_mem_pool.h (static_mem_pool<>::recycle): Do not lock
	static_mem_pool_set to display trace messages, since it should be
	locked already.

2006-08-26  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_mem_pool.h: Add documentation comments on the public
	member functions of static_mem_pool.
	(static_mem_pool<>::allocate): Call _S_alloc_sys instead of
	alloc_sys: it has been a bug since the beginning.
	(static_mem_pool<>::_S_alloc_sys): Allow only one allocation from
	system memory simultaneously to avoid worst-case recycling
	behaviour.
	* nvwa/static_mem_pool.cpp: Add documentation comments on the public
	member functions of static_mem_pool_set.
	(static_mem_pool_set::recycle): Do not get the lock, since the
	caller is now assumed to do it.

2005-11-22  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_assert.h (STATIC_ASSERT): Change from `static_assert'
	to (as it will be a keyword in the new C++ standard).
	* nvwa/debug_new.cpp (operator new(size_t, const char*, int)):
	Change `static_assert' to `STATIC_ASSERT'.

2005-09-19  Wu Yongwei  <adah@sh163.net>

	* nvwa/fixed_mem_pool.h (fixed_mem_pool<>): Add a note about the
	lock in the documentation comment.
	(fixed_mem_pool<>::lock): Make it public.
	(fixed_mem_pool<>::get_alloc_cnt): Add the `inline' keyword.
	(fixed_mem_pool<>::is_initialized): New function.

2005-09-13  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.h: Make minor adjustments in documentation comments
	and code format.
	* nvwa/debug_new.cpp: Add a documentation comment.
	(_DEBUG_NEW_REDEFINE_NEW): Undef before define.

2005-09-12  Wu Yongwei  <adah@sh163.net>

	Clean up macro usage
	* nvwa/class_level_lock (HAS_CLASS_TEMPLATE_PARTIAL_SPECIALIZATION):
	Allow setting of values 0 and 1.
	* nvwa/debug_new.h (HAS_PLACEMENT_DELETE): New macro with a default
	value of 1.
	(_DEBUG_NEW_REDEFINE_NEW): New macro with a default value of 1.
	(NO_PLACEMENT_DELETE): Remove its uses and use HAS_PLACEMENT_DELETE
	instead.
	(_DEBUG_NEW_NO_NEW_REDEFINITION): Remove its use and use
	_DEBUG_NEW_REDEFINE_NEW instead.
	(debug_new): Remove its definition (it is redundant with DEBUG_NEW
	and global macros should not use lower case).
	(_DEBUG_NEW_EMULATE_MALLOC): Adjust to remove the use of macro
	debug_new.
	* nvwa/debug_new.cpp (_DEBUG_NEW_EMULATE_MALLOC): Undef to ensure
	proper calls to malloc/free.
	(NO_PLACEMENT_DELETE): Remove its uses and use HAS_PLACEMENT_DELETE
	instead.
	(_DEBUG_NEW_NO_NEW_REDEFINITION): Remove its use and use
	_DEBUG_NEW_REDEFINE_NEW instead.

2005-09-02  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (print_position_from_addr): Cache the last
	result also when addr2line does not return a `good' result.

2005-09-02  Wu Yongwei  <adah@sh163.net>

	* doc/README: Correct a typo.

2005-08-25  Wu Yongwei  <adah@sh163.net>

	* nvwa/bool_array.cpp: Change `\e' (emphasize) followed by a
	function parameter to `\a' (argument) in documentation comments.
	* nvwa/bool_array.h: Ditto.
	* nvwa/fixed_mem_pool.h: Ditto.

2005-08-22  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_mem_pool.h (static_mem_pool<>::instance): Remove the
	use of Double-Checked Locking Pattern (DCLP).
	(static_mem_pool<>::_S_on_dead_reference): Remove this indirection.
	(static_mem_pool<>::_S_create_instance): Remove the use of DCLP and
	change the return type from void* to pointer to the instance.
	(static_mem_pool<>::_S_instance_p): Statically initialize the instance.
	(DECLARE_STATIC_MEM_POOL): Use `instance_known' instead of `instance'.
	(DECLARE_STATIC_MEM_POOL_GROUPED): Ditto.
	(PREPARE_STATIC_MEM_POOL): Define to empty and mark as obsolete.
	(PREPARE_STATIC_MEM_POOL_GROUPED): Ditto.

2005-08-06  Wu Yongwei  <adah@sh163.net>

	* misc/Doxyfile (PROJECT_NUMBER): Increase to 0.6.
	* misc/release.bat (VER): Ditto.
	* misc/release.sh (VER): Ditto.

2005-08-06  Wu Yongwei  <adah@sh163.net>

	* nvwa/fixed_mem_pool.h (fixed_mem_pool<>::_S_first_avail_ptr):
	Remove the __VOLATILE modifier since mutex locks should already
	ensure the proper memory access visibility and order.
	(fixed_mem_pool<>::_S_alloc_cnt): Ditto.

2005-08-03  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_mem_pool.h (static_mem_pool_set::container_type):
	Change from std::list to std::vector, since std::vector is more
	natural and really more efficient.

2005-08-02  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_mem_pool.h (static_mem_pool_set::container_type): New
	typedef.
	(static_mem_pool_set::_M_memory_pool_set): Use container_type to
	make the type of _M_memory_pool_set transparent.
	* nvwa/static_mem_pool.cpp (static_mem_pool_set::recycle): Ditto.

2005-07-24  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_mem_pool.h: Rephrase a documentation comment.
	(static_mem_pool_set::_M_memory_pool_set): Change its type from
	std::set<mem_pool_base*> to std::list<mem_pool_base*>.
	* nvwa/static_mem_pool.cpp (static_mem_pool_set::add): Change the
	member function call because of the _M_memory_pool_set type change.
	(static_mem_pool_set::recycle): Change the iterator type because of
	the _M_memory_pool_set type change.
	(static_mem_pool_set::~static_mem_pool_set): Ensure the memory pools
	are destroyed in reverse order of their constructions.

2005-07-13  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (operator new(size_t, const char*, int)):
	Replace manual lock/unlock calls with scoped fast_mutex_autolock.

2005-07-11  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp: Make trivial consistency adjustments.

2005-07-09  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_mem_pool.h (static_mem_pool<>::instance): Adjust code
	and add a comment where an acquire barrier should be inserted.
	(static_mem_pool<>::_S_create_instance): Add a comment where a
	release barrier should be inserted.

2005-07-07  Wu Yongwei  <adah@sh163.net>

	* doc/README: Update information about mem_pool_base.

2005-07-02  Wu Yongwei  <adah@sh163.net>

	* doc/README: Add URLs for the articles on debug_new and
	static_mem_pool.

2005-06-30  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (print_position_from_addr): Cache the last
	result to reduce the times to execute addr2line (starting a new
	process can be expensive, especially on Windows).

2005-06-29  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (operator new(size_t, const std::nothrow_t&)):
	Take advantage of _DEBUG_NEW_CALLER_ADDRESS (it should have been
	done earlier but somehow I missed it).
	(operator new[](size_t, const std::nothrow_t&)): Ditto.

2005-06-29  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_mem_pool.cpp
	(static_mem_pool_set::~static_mem_pool_set): Remove the unnecessary
	mutex lock (which will require _FAST_MUTEX_CHECK_INITIALIZATION to
	be non-zero).

2005-06-29  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_mem_pool.h (static_mem_pool_set): Change the incorrect
	private inheritance from class_level_lock<static_mem_pool_set> into
	a more consistent typedef.

2005-06-13  Wu Yongwei  <adah@sh163.net>

	* misc/Doxyfile (INPUT): Add fixed_mem_pool.h.
	(PROJECT_NUMBER): Increase to 0.5.
	* misc/release.bat (VER): Ditto.
	* misc/release.sh (VER): Ditto.

2005-06-13  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_mem_pool.h: Trivially adjust the #include order.
	(static_mem_pool_set): Change the public inheritance from
	class_level_lock<static_mem_pool_set> into the default private
	inheritance.

2005-06-11  Wu Yongwei  <adah@sh163.net>

	* nvwa/class_level_lock.h (class_level_lock<>::lock): Add empty
	default constructor to avoid `unused' warnings under some compilers.

2005-06-11  Wu Yongwei  <adah@sh163.net>

	* nvwa/fixed_mem_pool.h (fixed_mem_pool<>): Change the private
	inheritance into a typedef to avoid warnings and errors under some
	compilers.

2005-06-10  Wu Yongwei  <adah@sh163.net>

	* nvwa/fixed_mem_pool.h (fixed_mem_pool<>): Privately inherit from
	class_level_lock to use the its nested type lock.
	(fixed_mem_pool<>::_S_first_avail_ptr): Add the __VOLATILE modifier.
	(fixed_mem_pool<>::_S_alloc_cnt): Ditto.
	(fixed_mem_pool<>::allocate): Use type lock for synchronization.
	(fixed_mem_pool<>::deallocate): Ditto.
	(fixed_mem_pool<>::deinitialize): Add an assertion.

2005-06-09  Wu Yongwei  <adah@sh163.net>

	* doc/README: Add description of fixed_mem_pool.h.

2005-06-08  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_mem_pool.h (PREPARE_MEMORY_POOL): Change to
	PREPARE_STATIC_MEM_POOL.
	(PREPARE_MEMORY_POOL_GROUPED): Change to
	PREPARE_STATIC_MEM_POOL_GROUPED.

2005-05-06  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp: Update copyright year.
	* nvwa/debug_new.h: Ditto.
	* nvwa/fast_mutex.h: Ditto.
	* nvwa/fixed_mem_pool.h: Ditto.
	* nvwa/static_mem_pool.h: Ditto.

2005-05-03  Wu Yongwei  <adah@sh163.net>

	* nvwa/fixed_mem_pool.h: New file.

2005-05-02  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_mem_pool.h (static_mem_pool<>::static_mem_pool):
	Change a variable name so that it is consistent with other names.

2005-03-20  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp: Adjust the documentation comment: unify the
	expression of double-quote literals on the command line; and
	italicize the words `bash' and `ksh'.

2005-03-08  Wu Yongwei  <adah@sh163.net>

	* nvwa/fast_mutex.h (_PTHREADS): Undef if _WIN32THREADS is also
	defined.
	* nvwa/static_mem_pool.h (DECLARE_STATIC_MEM_POOL,
	DECLARE_STATIC_MEM_POOL_GROUPED): Reorganize code to avoid a (false)
	warning from some compilers.

2005-01-28  Wu Yongwei  <adah@sh163.net>

	* doc/README: Rephrase the paragraph about `GLIBCPP_FORCE_NEW'.

2005-01-16  Wu Yongwei  <adah@sh163.net>

	* misc/Doxyfile (PROJECT_NUMBER): Increase to 0.4.
	* misc/release.bat (VER): Ditto.
	* misc/release.sh (VER): Ditto.

2005-01-16  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (__debug_new_counter::~__debug_new_counter):
	Print a warning if GCC 3 or later is detected but no appropriate
	enviroment variable is set.

2005-01-04  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (print_position_from_addr): New static function.
	(print_position): Change the addr2line logic to a function call.

2005-01-02  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp: Hard-remove and re-add the revisions since 20
	December since I wrongly bumped the revision number.
	* nvwa/debug_new.h: Ditto.
	* nvwa/static_assert: Ditto.

2004-12-28  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_assert.h: New file.
	* nvwa/debug_new.cpp: Use static_assert.

2004-12-25  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (new_ptr_list_t): Add an anonymous union with a
	new member addr.
	(free_pointer): Eliminate a cast with the new union member addr.
	(check_leaks): Ditto.
	(operator new(size_t, const char*, int)): Ditto.

2004-12-25  Wu Yongwei  <adah@sh163.net>

	* misc/Doxyfile (EXPAND_ONLY_PREDEF): Set to `YES'.
	(EXPAND_AS_DEFINED): Add `__PRIVATE'.
	* misc/doxit.sh: Make refman.ps only when `ps' is specified on the
	command line.

2004-12-24  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.h: Add the new[](size_t) declaration required by
	MSVC 6 and enclose by macro conditionals.

2004-12-24  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (_DEBUG_NEW_ALIGNMENT): New macro.
	(align): New internal function-like macro.
	(aligned_list_item_size): New constant.
	(search_pointer): Use aligned_list_item_size.
	(free_pointer): Ditto.
	(check_leaks): Ditto.
	(operator new(size_t, const char*, int)): Ditto.

2004-12-22  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (_DEBUG_NEW_HASH): Eliminate cast warnings on
	64-bit platforms.

2004-12-20  Wu Yongwei  <adah@sh163.net>

	* doc/README: Add a note about new features of debug_new.

2004-12-20  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.h: Increase the version number to 3.0.
	* nvwa/debug_new.cpp: Ditto.
	Add a documentation comment.

2004-12-19  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (check_leaks, free_pointer): Fix the bug that
	the address of a new[] caller cannot be converted correctly.

2004-12-18  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp: Add more documentation comment about new usage.
	(print_position): Replace a strcat call with a strcpy call.
	(operator new(size_t, const std::nothrow_t&),
	operator new[](size_t, const std::nothrow_t&)): Do not define if a
	Borland C++ compiler no later than 5.5.1 is detected.

2004-12-18  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (new_output_lock): New static variable.
	(free_pointer): Use new_output_lock to synchronize output to
	new_output_fp.
	(check_leaks): Ditto.
	(operator new(size_t, const char*, int)): Ditto.
	(operator delete(void*)): Ditto.
	(operator delete[](void*)): Ditto.
	(operator delete(size_t, const char*, int)): Ditto.
	(operator delete[](size_t, const char*, int)): Ditto.

2004-12-12  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (_DEBUG_NEW_CALLER_ADDRESS): New macro.
	(_DEBUG_NEW_PROGNAME): New macro.
	(_DEBUG_NEW_USE_ADDR2LINE): New macro.
	(new_progname): New global variable.
	(print_position): New static function.
	(free_pointer): Change the interface to pass the caller address (and
	display caller information when needed).
	(check_leaks): Call print_position to display caller information.
	(operator new(size_t, const char*, int)): Ditto.
	(operator delete(void*)): Ditto.
	(operator delete[](void*)): Ditto.
	(operator delete(size_t, const char*, int)): Ditto.
	(operator delete[](size_t, const char*, int)): Ditto.
	(operator new(size_t)): Take advantage of _DEBUG_NEW_CALLER_ADDRESS.
	(operator new[](size_t)): Ditto.
	(operator delete(void*)): Ditto.
	(operator delete[](void*)): Ditto.
	(operator delete(void*, const std::nothrow_t&)): Ditto.
	(operator delete[](void*, const std::nothrow_t&)): Ditto.
	(free_pointer): Call fflush before _DEBUG_NEW_ERROR_ACTION.
	(operator new(size_t, const char*, int)): Ditto.
	(operator delete(void*)): Ditto.
	(operator delete[](void*)): Ditto.
	* nvwa/debug_new.h (new_progname): New declaration.
	* misc/Doxyfile: Predefine __GNUC__ in doxygen documentation.

2004-12-09  Wu Yongwei  <adah@sh163.net>

	* doc/README: Make minor editorial changes.

2004-12-09  Wu Yongwei  <adah@sh163.net>

	* misc: New directory.
	* misc/Doxyfile: New file.
	* misc/doxit.sh: New file.
	* misc/doxygen.css: New file.
	* misc/release.bat: New file.
	* misc/release.sh: New file.

2004-12-09  Wu Yongwei  <adah@sh163.net>

	* doc/README: Change the layout to make it easier to read.

2004-12-08  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (_DEBUG_NEW_ERROR_ACTION): New macro.
	(free_pointer): Use the new macro when errors occur.
	(operator new(size_t, const char*, int)): Ditto.
	(operator delete(void*)): Ditto.
	(operator delete[](void*)): Ditto.

2004-11-17  Wu Yongwei  <adah@sh163.net>

	* nvwa/cont_ptr_utils.h: Add documentation comment.

2004-11-10  Wu Yongwei  <adah@sh163.net>

	* nvwa/cont_ptr_utils.h (output_object<>): New functor template to
	help output the objects pointed by a container of pointers to a
	stream.

2004-09-23  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_mem_pool.h: Remove " != NULL" in conditionals for
	consistency.
	(DECLARE_STATIC_MEM_POOL, DECLARE_STATIC_MEM_POOL_GROUPED): Change
	instance to instance_known in definition of operator delete, since
	the instance should be created in a prior call to operator new.

2004-08-17  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_mem_pool.h (static_mem_pool<>::_S_instance_p): Add
	`__VOLATILE'.
	(static_mem_pool<>::_S_create_instance): Fix the object creation a
	little (still uses DCLP and still unsafe on some multiprocessor
	systems).
	(static_mem_pool<>::instance): Add a caution comment on DCLP.

2004-08-07  Wu Yongwei  <adah@sh163.net>

	* nvwa/bool_array.h: Add more documentation comment.
	* nvwa/bool_array.cpp: Ditto.
	(bool_array::count(unsigned long, unsigned long)): Change the call
	interface to an STL-like range.

2004-08-04  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (search_pointer): New static function.
	(free_pointer): New static function.
	(check_leaks): Leave out highest bit when displaying line number.
	(operator new(size_t, const char*, int)): Add an assertion.
	(operator new[](size_t, const char*, int)): Set highest bit of line
	number.
	(operator new[](size_t)): Implement with operator new[](size_t,
	const char*, int).
	(operator delete(void*)): Implement with search_pointer and
	free_pointer.
	(operator delete[](void*)): Ditto.
	(operator delete[](void*, const char*, int)): Implement with
	delete[](void*).
	(operator delete[](void*, const std::nothrow_t&)): Ditto.

2004-08-04  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp: Disable two warnings emitted by MSVC 7.1.

2004-08-02  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp: Correct the wrong name in the doxygen file tag.
	* nvwa/debug_new.h: Correct the misuse of `<' literal in doc comment.
	* nvwa/pctimer.h: Add the missing comma in the doxygen version tag.

2004-07-26  Wu Yongwei  <adah@sh163.net>

	* nvwa/class_level_lock.h: Add a full stop after the file briefing
	to make it work better with doxygen.
	* nvwa/cont_ptr_utils.h: Ditto.
	* nvwa/debug_new.cpp: Ditto.
	* nvwa/debug_new.h: Ditto.
	* nvwa/fast_mutex.h: Ditto.
	* nvwa/mem_pool_base.cpp: Ditto.
	* nvwa/mem_pool_base.h: Ditto.
	* nvwa/pctimer.h: Ditto.
	* nvwa/set_assign.h: Ditto.
	* nvwa/static_mem_pool.cpp: Ditto.
	* nvwa/static_mem_pool.h: Ditto.

2004-07-10  Wu Yongwei  <adah@sh163.net>

	* doc/README: Add note about GLIBCPP_FORCE_NEW/GLIBCXX_FORCE_NEW.

2004-06-25  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (check_leaks): Change `cLeaked' to `leak_cnt'
	for consistency.
	* nvwa/debug_new.cpp: Add more documentation comment.
	* nvwa/debug_new.h: Ditto.

2004-06-15  Wu Yongwei  <adah@sh163.net>

	* doc/README: New file.

2004-06-01  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.cpp (total_mem_alloc): New static variable.
	(operator new): Add bytes of allocated memory to total_mem_alloc.
	(operator delete): Subtract bytes of deallocated memory from
	total_mem_alloc and display total_mem_alloc when verbose flag is on.

2004-05-09  Wu Yongwei  <adah@sh163.net>

	* nvwa/bool_array.h: New file.
	* nvwa/bool_array.cpp: New file.

2004-05-09  Wu Yongwei  <adah@sh163.net>

	* nvwa/object_level_lock.h: Add some comments explaining its motive.

2004-04-20  Wu Yongwei  <adah@sh163.net>

	* nvwa/debug_new.h: Add exception specifications to make it compile
	under stricter compilers and the `-pedantic' option of GCC.
	* nvwa/debug_new.cpp: Ditto.

2004-04-15  Wu Yongwei  <adah@sh163.net>

	* nvwa/cont_ptr_utils.h: New file.
	* nvwa/static_mem_pool.h: Prefix an underline to macros
	STATIC_MEM_POOL_DEBUG and STATIC_MEM_POOL_TRACE.
	(static_mem_pool_set::add): Remove inline implementation.
	(static_mem_pool_set::remove): Remove.
	(static_mem_pool<>::static_mem_pool): Move out code to insert itself
	into static_mem_pool_set.
	(static_mem_pool<>::~static_mem_pool): Move out code to remove
	itself from static_mem_pool_set.  Fix trace code for locking.
	(static_mem_pool<>::_S_create_instance): Move in code to add the new
	instance into static_mem_pool_set.
	* nvwa/static_mem_pool.cpp: Prefix an underline to macro
	STATIC_MEM_POOL_TRACE.
	(static_mem_pool_set::~static_mem_pool_set): Use a more natural way
	to remove all instances of static_mem_pool.
	(static_mem_pool_set::add): Move implementation here.  Remove the
	trace message of adding a static_mem_pool.
	* nvwa/debug_new.h: Prefix an underline to file-specific macros.
	* nvwa/debug_new.cpp: Ditto.
	* nvwa/mem_pool_base.cpp: Ditto.

2004-04-11  Wu Yongwei  <adah@sh163.net>

	* nvwa/class_level_lock.h (class_level_lock<>): Add parameter
	_RealLock.
	(class_level_lock<>::lock::lock): Remove parameter __lock.
	(class_level_lock<>::lock::acquire): Remove.
	(class_level_lock<>::lock::release): Remove.
	(class_level_lock<_Host, false>): Add optional partial specialization.
	* nvwa/static_mem_pool.h: Synchronize with the above interface change.
	(static_mem_pool): Remove the unnecessary inheritance from
	class_level_lock.

2004-04-06  Wu Yongwei  <adah@sh163.net>

	* nvwa/pctimer.h: New file.
	* nvwa/set_assign.h: New file.

2004-04-03  Wu Yongwei  <adah@sh163.net>

	* nvwa/static_mem_pool.cpp (static_mem_pool_set::~static_mem_pool_set):
	Remove the use of manual mutex acquire/release.
	* nvwa/static_mem_pool.h (static_mem_pool<>::allocate): Ditto.
	(static_mem_pool<>::_S_instance_p): Remove __VOLATILE.

2004-03-30  Wu Yongwei  <adah@sh163.net>

	* nvwa/memory_pool.h: Remove (reorganized into the new files).
	* nvwa/memory_pool.cpp: Ditto.
	* nvwa/mem_pool_base.h: New file.
	* nvwa/mem_pool_base.cpp: New file.
	* nvwa/static_mem_pool.h: New file.
	* nvwa/static_mem_pool.cpp: New file.

2004-03-28  Wu Yongwei  <adah@sh163.net>

	* nvwa/class_level_lock.h: New file, required by memory_pool.h.
	* nvwa/object_level_lock.h: New file.

2004-03-28  Wu Yongwei  <adah@sh163.net>

	* nvwa/memory_pool.h: New file.
	* nvwa/memory_pool.cpp: New file.

2004-03-26  Wu Yongwei  <adah@sh163.net>

	* nvwa/fast_mutex.h: Wrap #error messages in quotes.
	(_FAST_MUTEX_CHECK_INITIALIZATION): Set default to 1.
	* nvwa/debug_new.cpp (check_leaks): Remove the restriction that no
	new/delete could occur during check_leaks.

2004-03-23  Wu Yongwei  <adah@sh163.net>

	* nvwa/fast_mutex.h: New file.
	* nvwa/debug_new.h: New file.
	* nvwa/debug_new.cpp: New file.

2004-03-23  Wu Yongwei  <adah@sh163.net>

	Create new directory structure
	* nvwa: New directory.
	* doc: New directory.
